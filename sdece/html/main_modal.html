<!DOCTYPE html>
<html style="width: 100%; height: 100%">
	<head>
		<title>Add Activity</title>

		<!-- Import CSS file -->
		<link href="../css/modal.css" rel="stylesheet" />

		<!-- Import Fonts -->
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400..800;1,400..800&display=swap"
			rel="stylesheet"
		/>
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
			rel="stylesheet"
		/>
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Hind:wght@300;400;500;600;700&display=swap"
			rel="stylesheet"
		/>
	</head>
	<body style="width: 100%; height: 100%; display: flex; flex-direction: column;">
		<div class="main-modal-outer">
			<div class="main-modal-modern-card">
				<div class="main-modal-modern-header">
					<div class="main-modal-modern-title-row">
						<span class="main-modal-modern-title-icon">
							<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="28" height="28"><path d="M21 19H23V21H1V19H3V4C3 3.44772 3.44772 3 4 3H14C14.5523 3 15 3.44772 15 4V19H19V11H17V9H20C20.5523 9 21 9.44772 21 10V19ZM5 5V19H13V5H5ZM7 11H11V13H7V11ZM7 7H11V9H7V7Z"></path></svg>
						</span>
						<div>
							<div class="main-modal-modern-title">Add New Partner</div>
							<div class="main-modal-modern-desc">Create a new partner profile and assign activities they'll be involved in.</div>
						</div>
					</div>
					<button class="close-btn" id="close-btn" aria-label="Close" type="button">
						<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="24" height="24">
							<path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
						</svg>
					</button>
				</div>
				<form class="main-modal-modern-form" autocomplete="off">
					<div class="main-modal-modern-field-group">
						<label for="inputted_partner_name" class="main-modal-modern-label">Partner Name</label>
						<input id="inputted_partner_name" type="text" class="main-modal-partner-name" placeholder="Enter partner name..." required />
					</div>
					<div class="main-modal-modern-field-group">
						<label for="address-input" class="main-modal-modern-label">Partner Address</label>
						<div class="main-modal-location-select">
							<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="main-modal-icon main-modal-pin">
								<path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
								<path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z" />
							</svg>
							<input id="address-input" class="main-modal-input" type="text" placeholder="Enter partner address..." required />
							<ul id="mainModalLocationsList"></ul>
						</div>
					</div>
					<div class="main-modal-modern-card main-modal-modern-activities">
						<div class="main-modal-modern-activities-header">
							<span class="main-modal-modern-activities-title">Activities</span>
							<button type="button" id="addModalButton" class="main-modal-modern-activities-add" aria-label="Add Activity">
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="24" height="24">
									<path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
								</svg>
							</button>
						</div>
						<ul id="mainModalActivityList" class="main-modal-temporary-activities"></ul>
						<div id="mainModalNoActivities" class="main-modal-modern-no-activities" style="display: none;">
							<div class="main-modal-modern-no-activities-title">No activities added yet</div>
							<div class="main-modal-modern-no-activities-desc">Click the + button to add activities</div>
						</div>
					</div>
					<div class="main-modal-modern-footer">
						<button type="button" class="main-modal-modern-cancel" id="mainModalCancel">Cancel</button>
						<button type="submit" id="saveButton" class="main-modal-save main-modal-modern-save">Save Partner</button>
					</div>
				</form>
			</div>
		</div>
		<script>
			function resetForm() {
				var inputFields = document.getElementsByTagName('input');
				for (var i = 0; i < inputFields.length; i++) {
					var field = inputFields[i];
					if (!field.readOnly && field.type !== 'button') {
						field.value = '';
					}
				}

				// Reset error messages
				var errorMessages =
					document.getElementsByClassName('error-message');
				for (var j = 0; j < errorMessages.length; j++) {
					errorMessages[j].textContent = '';
				}

				// Clear the overall error messages container
				var errorContainer =
					document.getElementById('error_messages');
				if (errorContainer) {
					errorContainer.innerHTML = '';
				}
			}
			document.getElementById('close-btn').onclick = function() {
				window.parent.postMessage('closeMainModal', '*');
			};
		</script>
	</body>
</html>
