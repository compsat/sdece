<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>NSTP Hazard Mapping</title>
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
  <link href='https://fonts.googleapis.com/css?family=Hind' rel='stylesheet'>

  <!--Load Leaflet from CDN-->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
    integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
    crossorigin="" />
  <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
    integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
    crossorigin=""></script>

  <!--Load Esri Leaflet from CDN-->
  <script src="https://unpkg.com/esri-leaflet@2.4.1/dist/esri-leaflet.js"
    integrity="sha512-xY2smLIHKirD03vHKDJ2u4pqeHA7OQZZ27EjtqmuhDguxiUvdsOuXMwkg16PQrm9cgTmXtoxA6kwr8KBy3cdcw=="
    crossorigin=""></script>

  <!--Load Esri Leaflet Geocoder from CDN-->
  <link rel="stylesheet" href="https://unpkg.com/esri-leaflet-geocoder@2.3.3/dist/esri-leaflet-geocoder.css"
    integrity="sha512-IM3Hs+feyi40yZhDH6kV8vQMg4Fh20s9OzInIIAc4nx7aMYMfo+IenRUekoYsHZqGkREUgx0VvlEsgm7nCDW9g=="
    crossorigin="">
  <script src="https://unpkg.com/esri-leaflet-geocoder@2.3.3/dist/esri-leaflet-geocoder.js"
    integrity="sha512-HrFUyCEtIpxZloTgEKKMq4RFYhxjJkCiF5sDxuAokklOeZ68U2NPfh4MFtyIVWlsKtVbK5GD2/JzFyAfvT5ejA=="
    crossorigin=""></script>

  <!--Load CSS sheets and Firestore Database-->
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/form.css">
  <script type="module" src="js/firestore.js"></script>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
  <!--Logout Button-->
  <div class="top-bar">
    <button class="button-logout"><img src="./img/logout.256x256.png" alt="logout" height="15" width="15"> Logout</button>
  </div>
  <!--Modals of Entries-->
  <div id="partnerModal" class="modal">
    <!--Modal Header: includes title and address-->
    <div class="modal-header">
      <span class="close">&times;</span>
      <p id="modalHeader"></p>
    </div>
    <!--Modal Content: everything else-->
    <div class="modal-content">
      <p id="modalContent"></p>
    </div>
  </div>
  <!--Modals of forms-->
  <div id="form-modal" class="form-modal" style="display: none;">
    <div class="formModalBackdrop"></div>
    <!--Modal Header: includes title and address-->
    <div class="form-modal-header">
      <span class="close-form">&times;</span>
      <h1 class="form-header">Add Household</h1>
    </div>
    <!--Modal Content: everything else-->
    <div class="form-modal-content">
      <h2 class="sub-header">HOUSEHOLD INFORMATION</h2>
      <br>
      <!-- Add Household Form modal-->
      <div class="input_container">
          <label class="form" for="household_name">Household Name</label>
          <input type="text" id="household_name" name="household_name" class="attribs" placeholder="">
      </div>
      <br>
      <div class="input_container">
          <label class="form" for="address">Address</label>
          <input type="text" id="address" name="address" class="attribs" placeholder="">    
      </div>
      <br>
      <div class="input_container">
          <label class="form" for="contact_number">Contact Number</label>
          <input type="text" id="contact_number" name="contact_number" class="attribs" placeholder="">    
      </div>
      <br>
      <div class="input_container">
          <label class="form" for="residency_status">Residency Status</label>
          <input type="text" id="residency_status" name="residency_status" class="attribs" placeholder=""> 
      </div>
      <br>
      <div class="input_container">
          <label class="form" for="HOA/NOA">Part of HOA / NOA</label>
          <input type="text" id="HOA/NOA" name="HOA/NOA" class="attribs" placeholder=""> 
      </div>
      <br>
      <div class="input_container">
          <label class="form" for="materials_used_for_house">Materials Used for House</label>
          <input type="text" id="materials_used_for_house" name="materials_used_for_house" class="attribs" placeholder=""> 
      </div>
      <br>
      <div class="input_container">
          <label class="form" for="nearest_evacuation_area">Nearest Evactuation Area</label>
          <input type="text" id="nearest_evacuation_area" name="nearest_evacuation_area" class="attribs" placeholder="">    
      </div>
      <br>
      <h2 class="sub-header">RESIDENT INFORMATION</h2>
      <br>
      <div class="input_container">
          <label class="form" for="number_of_residents">Number of Residents</label>
          <input type="text" id="number_of_residents" name="number_of_residents" class="attribs" placeholder="">    
      </div>
      <br>
      <div class="input_container">
          <label class="form" for="number_of_minor_residents">Number of Minor Residents</label>
          <input type="text" id="number_of_minor_residents" name="number_of_minor_residents" class="attribs" placeholder="">
      </div>
      <br>
      <div class="input_container">
          <label class="form" for="number_of_senior_residents">Number of Senior Citizen Residents</label>
          <input type="text" id="number_of_senior_residents" name="number_of_senior_residents" class="attribs" placeholder="">
      </div>
      <br>
      <div class="input_container">
          <label class="form" for="number_of_pwd_residents">Number of PWD Residents</label>
          <input type="text" id="number_of_pwd_residents" name="number_of_pwd_residents" class="attribs" placeholder="">
      </div>
      <br>
      <div class="input_container">
          <label class="form" for="number_of_sick_residents">Number of Sick Residents</label>
          <input type="text" id="number_of_sick_residents" name="number_of_sick_residents" class="attribs" placeholder="">
      </div>
      <br>
      <div class="input_container">
          <label class="form" for="number_of_pregnant_residents">Number of Pregnant Residents</label>
          <input type="text" id="number_of_pregnant_residents" name="number_of_pregnant_residents" class="attribs" placeholder="">
      </div>
      <br>
      <h2 class="sub-header">RISK LEVELS</h2>
      <br>
      <div class="input_container">
          <label class="disaster-form" for="earthquake">Earthquake</label>
          <select name="earthquake_level" id="earthquake" class="attribs">
              <option value="" disabled selected hidden></option>
              <option value="high">HIGH</option>
              <option value="medium">MEDIUM</option>
              <option value="low">LOW</option>
          </select>
          <input type="text" id="earthquake" name="earthquake" class="attribs" placeholder="">
      </div>
      <br>
      <div class="input_container">
          <label class="disaster-form" for="fire">Fire</label>
          <select name="fire_level" id="fire" class="attribs">
              <option value="" disabled selected hidden></option>
              <option value="high">HIGH</option>
              <option value="medium">MEDIUM</option>
              <option value="low">LOW</option>
          </select>
          <input type="text" id="fire" name="fire" class="attribs" placeholder="">
      </div>
      <br>
      <div class="input_container">
          <label class="disaster-form" for="flood">Flood</label>
          <select name="flood_level" id="flood" class="attribs">
              <option value="" disabled selected hidden></option>
              <option value="high">HIGH</option>
              <option value="medium">MEDIUM</option>
              <option value="low">LOW</option>
          </select>
          <input type="email" id="flood" name="flood" class="attribs" placeholder="">
      </div>
      <br>
      <div class="input_container">
          <label class="disaster-form" for="landslide">Landslide</label>
          <select name="landslide_level" id="landslide" class="attribs">
              <option value="" disabled selected hidden></option>
              <option value="high">HIGH</option>
              <option value="medium">MEDIUM</option>
              <option value="low">LOW</option>
          </select>
          <input type="email" id="landslide" name="landslide" class="attribs" placeholder="">
      </div>
      <br>
      <div class="input_container">
          <label class="disaster-form" for="storm">Storm</label>
          <select name="storm_level" id="storm" class="attribs">
              <option value="" disabled selected hidden></option>
              <option value="high">HIGH</option>
              <option value="medium">MEDIUM</option>
              <option value="low">LOW</option>
          </select>
          <input type="email" id="storm" name="storm" class="attribs" placeholder="">
      </div>
      <br>
      <br><br>
      <!-- Save and Delete buttons -->
      <div>
          <!-- Submits contents of the form -->                                               
          <button class="confirm form" type="submit" id="submit_form" name="submit_form">Save</button>   
      </div>
      <br>
      <div>
          <!-- Clears all contents of the form -->
          <button class="clear form">Delete</button>
      </div>
  </div>
  </div>
  <!--Side menu: where the add location function, search bar, and list entries are-->
  <div class="main">
    <div class="sidenav">
      <!--Search Bar-->
      <div class="buttons">
        <input class="search-bar" type="search" placeholder="Search... " oninput="searchEntries()">
      </div>
      <button class="container label-font" id="addHousehold" name="addHousehold">+ Add a Household</button>
        <!--<button class="container label-font" href="#">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon">
        <path d="M23.7844 9.8585L21.4937 7.56787L10.1594 18.8991L9.67188 21.6804L12.45 21.1897L23.7844 9.8585Z"
          fill="#568D9E" />
        <path
          d="M27.5 26.9741H4.5C3.94687 26.9741 3.5 27.421 3.5 27.9741V29.0991C3.5 29.2366 3.6125 29.3491 3.75 29.3491H28.25C28.3875 29.3491 28.5 29.2366 28.5 29.0991V27.9741C28.5 27.421 28.0531 26.9741 27.5 26.9741ZM8.05313 24.3491C8.11563 24.3491 8.17813 24.3429 8.24063 24.3335L13.4969 23.4116C13.5594 23.3991 13.6188 23.371 13.6625 23.3241L26.9094 10.0772C26.9383 10.0483 26.9613 10.014 26.977 9.97619C26.9927 9.93839 27.0008 9.89786 27.0008 9.85693C27.0008 9.81601 26.9927 9.77548 26.977 9.73768C26.9613 9.69987 26.9383 9.66553 26.9094 9.63662L21.7156 4.43975C21.6562 4.38037 21.5781 4.34912 21.4937 4.34912C21.4094 4.34912 21.3313 4.38037 21.2719 4.43975L8.025 17.6866C7.97812 17.7335 7.95 17.7897 7.9375 17.8522L7.01562 23.1085C6.98522 23.2759 6.99609 23.4482 7.04727 23.6105C7.09846 23.7727 7.18842 23.9201 7.30937 24.0397C7.51562 24.2397 7.775 24.3491 8.05313 24.3491ZM10.1594 18.8991L21.4937 7.56787L23.7844 9.8585L12.45 21.1897L9.67188 21.6804L10.1594 18.8991Z"
          fill="#568D9E" />
        </svg> Edit Location
        </button>-->
      <div class="entries">
        <ul id="locationList" class="accordion">
        </ul>
      </div>
    </div>
    <div class="map-container">
      <div id="map">
      </div>
    </div>
  </div>
  <!--script for map-->
  <script type="module" src="js/index.js"></script>

  <!--script for add household modal-->
  
  <script>
  // modal
  var formModal = document.getElementById("form-modal");

  // open modal
  var openForm = document.getElementById("addHousehold");

  // Get the <span> element that closes the modal
  var closeForm = document.getElementsByClassName("close-form")[0];

  // When the user clicks the button, open the modal 
  openForm.onclick = function() {
    formModal.style.display = "block";
  }

  // When the user clicks on <span> (x), close the modal
  closeForm.onclick = function() {
    formModal.style.display = "none";
  }

  // Allows the user to search for entries by filtering the data entries for every key typed in
    function searchEntries() {
      var input = document.querySelector('.search-bar').value.toUpperCase();
      var ul = document.getElementById("locationList");
      var li = ul.getElementsByTagName('li');
      for (var i = 0; i < li.length; i++) {
        var a = li[i].getElementsByTagName("a")[0];
        var txtValue = a.textContent || a.innerText;
        if (txtValue.toUpperCase().indexOf(input) > -1) {
          li[i].style.display = "";
        } else {
          li[i].style.display = "none";
        }
      }
    }
  </script>
</body>

</html>